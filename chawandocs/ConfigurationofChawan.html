<!DOCTYPE html>
<!-- saved from url=(0038)https://chawan.net/doc/cha/config.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>
Chawan: Configuration of Chawan
</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="shortcut icon" href="https://chawan.net/favicon.ico">
<style>
    /* layout */
*           { box-sizing: border-box; border-width: 0 }
body            { display: flex; flex-direction: column }
body            { min-height: 100vh; margin: 0 auto }
header          { max-width: 60ch; display: flex; flex-wrap: wrap }
header a        { display: block; flex: 1; font-size: larger }
main            { width: 72ch; margin: 1em auto }
@media(width<72ch){main { width: 100% }                        }
footer          { float: right; font-style: italic }
main            { display: flow-root; padding: 0 1ch }
h1, h2, h3, h4, h5, h6  { font-size: inherit }
table           { border-spacing: .5ch 0; margin: 0 -1ch }
figure, img     { max-width: 100%; margin: 0 }
figure          { padding: 1em 0 0 0 }
figcaption      { text-align: center }
pre         { padding-left: 1ch }
@media(grid:0){ h1  { padding: 1ch 0 0; margin: 0 }
        td, th  { padding: .3ch 1ch }
    code, pre   { font-size: 15px }     }
    /* colors */
*           { color: white }
header a        { background: #204A50 }
header a.current    { background: #192C30 }
header a:hover      { background: #192930 }
body            { background: #102527 }
main            { background: #103C40 }
main a[href]        { color: #FFC6CB }
th, td          { background: #113134 }
tr:nth-child(2n) > *    { background: #102628 }
    /* decoration */
a[href]         { text-decoration: none }
a[href]:hover       { text-decoration: underline }
header a[href]:hover    { text-decoration: none }
</style>
</head>
<body>
<center>
<header>
<a href="https://chawan.net/index.html">Index</a> <a href="https://chawan.net/news/index.html">News</a> <a href="https://chawan.net/doc/index.html">Docs</a> <a href="https://chawan.net/issues.html">Issues</a> <a href="https://sr.ht/~bptato/chawan">Source</a>
</header>
</center>
<main>
<!-- MANON
% cha-config(5) | Configuration of Chawan
MANOFF -->
<h1 id="configuration-of-chawan">Configuration of Chawan</h1>
<p>Chawan supports configuration of various options like keybindings,
user stylesheets, site preferences, etc. The configuration format is
similar to toml, with the following exceptions:</p>
<ul>
<li>Inline tables may span across multiple lines.</li>
<li>Regular tables (<code>[table]</code>) and inline tables
(<code>table = {}</code>) have different semantics. The first is
additive, meaning old values are not removed. The second is destructive,
and clears all definitions in the table specified.</li>
<li><code>[[table-array]]</code> is sugar for
<code>[table-array.n]</code>, where <code>n</code> is the number of
declared table arrays. For example, you can declare anonymous siteconfs
using the syntax <code>[[siteconf]]</code>.</li>
</ul>
<p>The canonical configuration file path is ~/.chawan/config.toml, but
the search path accommodates XDG basedirs as well:</p>
<ol type="1">
<li>config file specified through -C switch -&gt; use that</li>
<li><code>$CHA_DIR</code> is set -&gt; use
<code>$CHA_DIR</code>/config.toml</li>
<li><code>$XDG_CONFIG_HOME</code> is set -&gt; use
<code>$XDG_CONFIG_HOME</code>/chawan/config.toml</li>
<li>~/.config/chawan/config.toml exists -&gt; use that</li>
<li>~/.chawan/config.toml exists -&gt; use that</li>
</ol>
<!-- MANOFF -->
<p><strong>Table of contents</strong></p>
<ul>
<li><a href="https://chawan.net/doc/cha/config.html#start">Start</a></li>
<li><a href="https://chawan.net/doc/cha/config.html#search">Search</a></li>
<li><a href="https://chawan.net/doc/cha/config.html#buffer">Buffer</a></li>
<li><a href="https://chawan.net/doc/cha/config.html#encoding">Encoding</a></li>
<li><a href="https://chawan.net/doc/cha/config.html#external">External</a></li>
<li><a href="https://chawan.net/doc/cha/config.html#network">Network</a></li>
<li><a href="https://chawan.net/doc/cha/config.html#display">Display</a></li>
<li><a href="https://chawan.net/doc/cha/config.html#protocol">Protocol</a></li>
<li><a href="https://chawan.net/doc/cha/config.html#omnirule">Omnirule</a></li>
<li><a href="https://chawan.net/doc/cha/config.html#siteconf">Siteconf</a></li>
<li><a href="https://chawan.net/doc/cha/config.html#stylesheets">Stylesheets</a></li>
<li><a href="https://chawan.net/doc/cha/config.html#keybindings">Keybindings</a>
<ul>
<li><a href="https://chawan.net/doc/cha/config.html#pager-actions">Pager actions</a></li>
<li><a href="https://chawan.net/doc/cha/config.html#line-editing-actions">Line-editing actions</a></li>
</ul></li>
<li><a href="https://chawan.net/doc/cha/config.html#appendix">Appendix</a>
<ul>
<li><a href="https://chawan.net/doc/cha/config.html#regex-handling">Regex handling</a>
<ul>
<li><a href="https://chawan.net/doc/cha/config.html#match-mode">Match mode</a></li>
<li><a href="https://chawan.net/doc/cha/config.html#search-mode">Search mode</a></li>
</ul></li>
<li><a href="https://chawan.net/doc/cha/config.html#path-handling">Path handling</a></li>
<li><a href="https://chawan.net/doc/cha/config.html#word-types">Word types</a>
<ul>
<li><a href="https://chawan.net/doc/cha/config.html#w3m-word">w3m word</a></li>
<li><a href="https://chawan.net/doc/cha/config.html#vi-word">vi word</a></li>
<li><a href="https://chawan.net/doc/cha/config.html#big-word">Big word</a></li>
</ul></li>
</ul></li>
</ul>
<!-- MANON -->
<h2 id="start">Start</h2>
<p>Start-up options are to be placed in the <code>[start]</code>
section.</p>
<p>Following is a list of start-up options:</p>
<table>
<tbody><tr>
<th>
Name
</th>
<th>
Value
</th>
<th>
Default
</th>
<th>
Function
</th>
</tr>
<tr>
<td>
visual-home
</td>
<td>
url
</td>
<td>
“about:chawan”
</td>
<td>
Page opened when Chawan is called with the -V option and no other pages
are passed as arguments.
</td>
</tr>
<tr>
<td>
startup-script
</td>
<td>
JavaScript code
</td>
<td>
““
</td>
<td>
Script Chawan runs on start-up. Pages will not be loaded until this
function exits. (Note however that asynchronous functions like
setTimeout do not block loading.)
</td>
</tr>
<tr>
<td>
headless
</td>
<td>
boolean / “dump”
</td>
<td>
false
</td>
<td>
When set to true or “dump”, the browser does not take input; instead, it
prints a rendered version of all buffers in order, then exits.<br> The
difference between <code>true</code> and “dump” is that
<code>true</code> first waits for all scripts and network requests to
run to completion, while “dump” does not. This means that
<code>true</code> may never exit when scripting is enabled (e.g.&nbsp;if a
script sets <code>setInterval</code>.)<br> Piping <code>cha</code> to an
external program or passing the <code>-d</code> switch has the same
effect as setting this option to “dump”.
</td>
</tr>
<tr>
<td>
console-buffer
</td>
<td>
boolean
</td>
<td>
true
</td>
<td>
Whether Chawan should open a console buffer in non-headless mode.<br>
Warning: this is only useful for debugging. Disabling this option
without manually redirecting standard error will result in error
messages randomly appearing on your screen.
</td>
</tr>
</tbody></table>
<h2 id="buffer">Buffer</h2>
<p>Buffer options are to be placed in the <code>[buffer]</code>
section.</p>
<p>These options are global to all buffers. For more granular filtering,
use <code>[[siteconf]]</code>.</p>
<p>Example:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode toml"><code class="sourceCode toml"><span id="cb1-1"><a href="https://chawan.net/doc/cha/config.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">[buffer]</span></span>
<span id="cb1-2"><a href="https://chawan.net/doc/cha/config.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># show images on all websites</span></span>
<span id="cb1-3"><a href="https://chawan.net/doc/cha/config.html#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="dt">images</span> <span class="op">=</span> <span class="cn">true</span></span>
<span id="cb1-4"><a href="https://chawan.net/doc/cha/config.html#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># disable website CSS</span></span>
<span id="cb1-5"><a href="https://chawan.net/doc/cha/config.html#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="dt">styling</span> <span class="op">=</span> <span class="cn">false</span></span>
<span id="cb1-6"><a href="https://chawan.net/doc/cha/config.html#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co"># You *can* set scripting to true here, but I strongly recommend using</span></span>
<span id="cb1-7"><a href="https://chawan.net/doc/cha/config.html#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># [[siteconf]] to enable it on a per-site basis instead.</span></span></code></pre></div>
<p>Following is a list of buffer options:</p>
<table>
<tbody><tr>
<th>
Name
</th>
<th>
Value
</th>
<th>
Default
</th>
<th>
Function
</th>
</tr>
<tr>
<td>
styling
</td>
<td>
boolean
</td>
<td>
true
</td>
<td>
Enable/disable author style sheets. Note that disabling this does not
affect user styles set in <code>[css]</code>.
</td>
</tr>
<tr>
<td>
scripting
</td>
<td>
boolean / “app”
</td>
<td>
false
</td>
<td>
Enable/disable JavaScript in <em>all</em> buffers.<br>
<code>"app"</code> also enables JavaScript APIs that can be used to
fingerprint users (e.g.&nbsp;querying the window’s size.) This may achieve
better compatibility with websites that behave like applications, at the
cost of reduced privacy.<br> For security reasons, users are encouraged
to selectively enable JavaScript with <code>[[siteconf]]</code> instead
of using this setting.
</td>
</tr>
<tr>
<td>
images
</td>
<td>
boolean
</td>
<td>
false
</td>
<td>
Enable/disable inline image display.
</td>
</tr>
<tr>
<td>
cookie
</td>
<td>
boolean / “save”
</td>
<td>
false
</td>
<td>
Enable/disable cookies on sites.<br> If the string “save” is specified,
then cookies are also saved to <code>external.cookie-file</code>.
<code>true</code> still reads cookies.txt, but does not modify it.<br>
In Chawan, each website gets a separate cookie jar, so websites relying
on cross-site cookies may not work as expected. You may use the
<code>[[siteconf]]</code> “share-cookie-jar” setting to adjust this
behavior for specific sites.
</td>
</tr>
<tr>
<td>
referer-from
</td>
<td>
boolean
</td>
<td>
false
</td>
<td>
Enable/disable the “Referer” header.<br> Defaults to false. For privacy
reasons, users are encouraged to leave this option disabled, only
enabling it for specific sites in <code>[[siteconf]]</code>.
</td>
</tr>
<tr>
<td>
autofocus
</td>
<td>
boolean
</td>
<td>
false
</td>
<td>
When set to true, elements with an “autofocus” attribute are focused on
automatically after the buffer is loaded.<br> If scripting is enabled,
this also allows scripts to focus on elements.
</td>
</tr>
<tr>
<td>
meta-refresh
</td>
<td>
“never” / “always” / “ask”
</td>
<td>
“ask”
</td>
<td>
Whether or not <code>http-equiv=refresh</code> meta tags should be
respected. “never” completely disables them, “always” automatically
accepts all of them, “ask” brings up a pop-up menu.
</td>
</tr>
<tr>
<td>
history
</td>
<td>
boolean
</td>
<td>
true
</td>
<td>
Whether or not browsing history should be saved to the disk.
</td>
</tr>
<tr>
<td>
mark-links
</td>
<td>
boolean
</td>
<td>
false
</td>
<td>
Add numeric markers before links. In headless/dump mode, this also
prints a list of URLs after the page.
</td>
</tr>
<tr>
<td>
user-style
</td>
<td>
string
</td>
<td>
““
</td>
<td>
A user stylesheet applied to all buffers.<br> External stylesheets can
be imported using the <code>@import 'file.css';</code> syntax. Paths are
relative to the configuration directory.<br> Nested <span class="citation" data-cites="import">@import</span> is not supported
yet.
</td>
</tr>
</tbody></table>
<h2 id="search">Search</h2>
<p>Search options are to be placed in the <code>[search]</code>
section.</p>
<p>Following is a list of search options:</p>
<table>
<tbody><tr>
<th>
Name
</th>
<th>
Value
</th>
<th>
Default
</th>
<th>
Function
</th>
</tr>
<tr>
<td>
wrap
</td>
<td>
boolean
</td>
<td>
true
</td>
<td>
Whether on-page searches should wrap around the document.
</td>
</tr>
<tr>
<td>
ignore-case
</td>
<td>
“auto” / boolean
</td>
<td>
“auto”
</td>
<td>
When set to true, document-wide searches are case-insensitive by
default. When set to “auto”, searches are only case-sensitive when the
search term includes a capital letter.<br> Note: this can also be
overridden inline in the search bar (vim-style), with the escape
sequences <code>\c</code> (ignore case) and <code>\C</code> (strict
case). See <a href="https://chawan.net/doc/cha/config.html#search-mode">search mode</a> for details.)
</td>
</tr>
</tbody></table>
<h2 id="encoding">Encoding</h2>
<p>Encoding options are to be placed in the <code>[encoding]</code>
section.</p>
<p>Following is a list of encoding options:</p>
<table>
<tbody><tr>
<th>
Name
</th>
<th>
Value
</th>
<th>
Default
</th>
<th>
Function
</th>
</tr>
<tr>
<td>
document-charset
</td>
<td>
array of charset label strings
</td>
<td>
[“utf-8”, “sjis”, “euc-jp”, “latin2”]
</td>
<td>
List of character sets for loading documents.<br> All listed character
sets are enumerated until the document has been decoded without errors.
In HTML, meta tags and the BOM may override this with a different
charset, so long as the specified charset can decode the document
correctly.
</td>
</tr>
<tr>
<td>
display-charset
</td>
<td>
string
</td>
<td>
“auto”
</td>
<td>
Character set for keyboard input and displaying documents.<br> Used in
dump mode as well.<br> (This means that
e.g.&nbsp;<code>cha -I EUC-JP -O UTF-8 a &gt; b</code> is roughly equivalent
to <code>iconv -f EUC-JP -t UTF-8</code>.)
</td>
</tr>
</tbody></table>
<h2 id="external">External</h2>
<p>External options are to be placed in the <code>[external]</code>
section.</p>
<p>Following is a list of external options:</p>
<table>
<tbody><tr>
<th>
Name
</th>
<th>
Value
</th>
<th>
Default
</th>
<th>
Function
</th>
</tr>
<tr>
<td>
tmpdir
</td>
<td>
path
</td>
<td>
{usually /tmp/cha-tmp-user}
</td>
<td>
Directory used to save temporary files.
</td>
</tr>
<tr>
<td>
editor
</td>
<td>
shell command
</td>
<td>
{usually <code>$EDITOR</code>}
</td>
<td>
External editor command. %s is substituted for the file name, %d for the
line number.
</td>
</tr>
<tr>
<td>
mailcap
</td>
<td>
array of paths
</td>
<td>
{see mailcap docs}
</td>
<td>
Search path for <!-- MANOFF --><a href="https://chawan.net/doc/cha/mailcap.html">mailcap</a>
files.<!-- MANON -->
<!-- MANON mailcap files. (See **cha-mailcap**(5) for details.) MANOFF -->
</td>
</tr>
<tr>
<td>
mime-types
</td>
<td>
array of paths
</td>
<td>
{see mime.types docs}
</td>
<td>
Search path for <!-- MANOFF --><a href="https://chawan.net/doc/cha/mime.types.html">mime.types</a>
files.<!-- MANON -->
<!-- MANON mime.types files. (See **cha-mime.types**(5) for details.) MANOFF -->
</td>
</tr>
<tr>
<td>
auto-mailcap
</td>
<td>
path
</td>
<td>
“auto.mailcap”
</td>
<td>
Mailcap file for entries that are automatically executed.<br> The “Open
as” prompt also saves entries in this file.
</td>
</tr>
<tr>
<td>
cgi-dir
</td>
<td>
array of paths
</td>
<td>
{see local CGI docs}
</td>
<td>
Search path for <!-- MANOFF --><a href="https://chawan.net/doc/cha/localcgi.html">local CGI</a>
scripts.<!-- MANON -->
<!-- MANON local CGI scripts. (See **cha-localcgi**(5) for details.) MANOFF -->
</td>
</tr>
<tr>
<td>
urimethodmap
</td>
<td>
array of paths
</td>
<td>
{see urimethodmap docs}
</td>
<td>
Search path for <!-- MANOFF --><a href="https://chawan.net/doc/cha/urimethodmap.html">urimethodmap</a> files.<!-- MANON -->
<!-- MANON urimethodmap files. (See **cha-urimethodmap**(5) for details.) MANOFF -->
</td>
</tr>
<tr>
<td>
w3m-cgi-compat
</td>
<td>
boolean
</td>
<td>
false
</td>
<td>
Enable local CGI compatibility with w3m. In short, it redirects
<code>file:///cgi-bin/*</code> and <code>file:///$LIB/cgi-bin/*</code>
to <code>cgi-bin:*</code>. For further details, see <!-- MANOFF --><a href="https://chawan.net/doc/cha/localcgi.html">localcgi.md</a>.<!-- MANON -->
<!-- MANON **cha-localcgi**(5). MANOFF -->
</td>
</tr>
<tr>
<td>
download-dir
</td>
<td>
path
</td>
<td>
{same as tmpdir}
</td>
<td>
Path to pre-fill for “Save to:” prompts.
</td>
</tr>
<tr>
<td>
show-download-panel
</td>
<td>
boolean
</td>
<td>
true
</td>
<td>
Whether the <code>about:downloads</code> should be shown after starting
a download.
</td>
</tr>
<tr>
<td>
copy-cmd
</td>
<td>
shell command
</td>
<td>
“xsel -bi”
</td>
<td>
Command to use for “copy to clipboard” operations.
</td>
</tr>
<tr>
<td>
paste-cmd
</td>
<td>
shell command
</td>
<td>
“xsel -bo”
</td>
<td>
Command to use for “read from clipboard” operations.
</td>
</tr>
<tr>
<td>
bookmark
</td>
<td>
path
</td>
<td>
“bookmark.md”
</td>
<td>
Path to the bookmark.md file. (The file it points to should have a .md
extension, so that its type can be correctly deduced.)
</td>
</tr>
<tr>
<td>
history-file
</td>
<td>
path
</td>
<td>
“history.uri”
</td>
<td>
Path to the history file.
</td>
</tr>
<tr>
<td>
history-size
</td>
<td>
number
</td>
<td>
100
</td>
<td>
Maximum length of the history file.
</td>
</tr>
<tr>
<td>
cookie-file
</td>
<td>
path
</td>
<td>
“cookies.txt”
</td>
<td>
Path to the cookie file.<br> The format is equivalent to curl’s
“cookies.txt” format, except that a “jar@” part is prepended for cookies
that belong in a different jar than the domain.<br> Cookies from this
file are used if “buffer.cookie” (or its equivalent siteconf override)
is set to <code>true</code> or <code>"save"</code>. This means that
<code>true</code> sets the cookie-file to a “read-only” mode.
</td>
</tr>
</tbody></table>
<h2 id="input">Input</h2>
<p>Input options are to be placed in the <code>[input]</code>
section.</p>
<table>
<tbody><tr>
<th>
Name
</th>
<th>
Value
</th>
<th>
Function
</th>
</tr>
<tr>
<td>
vi-numeric-prefix
</td>
<td>
boolean
</td>
<td>
true
</td>
<td>
Whether vi-style numeric prefixes to commands should be accepted.<br>
Only applies for keybindings defined in <code>[page]</code>.
</td>
</tr>
<tr>
<td>
use-mouse
</td>
<td>
boolean
</td>
<td>
true
</td>
<td>
Whether Chawan is allowed to intercept mouse clicks.<br> The current
implementation imitates w3m.
</td>
</tr>
</tbody></table>
<p>Examples:</p>
<pre><code>[input]
vi-numeric-prefix = true

[page]
# Here, the arrow function will be called with the vi numbered prefix if
# one was input, and with no argument otherwise.
# The numeric prefix can never be zero, so it is safe to test for undefined
# using the ternary operator.
G = 'n =&gt; n ? pager.gotoLine(n) : pager.cursorLastLine()'</code></pre>
<h2 id="network">Network</h2>
<p>Network options are to be placed in the <code>[network]</code>
section.</p>
<table>
<tbody><tr>
<th>
Name
</th>
<th>
Value
</th>
<th>
Default
</th>
<th>
Function
</th>
</tr>
<tr>
<td>
max-redirect
</td>
<td>
number
</td>
<td>
10
</td>
<td>
Maximum number of redirections to follow.
</td>
</tr>
<tr>
<td>
max-net-connections
</td>
<td>
number
</td>
<td>
12
</td>
<td>
Maximum number of simultaneous network connections allowed in one
buffer. Further connections are held back until the number returns below
the threshold.
</td>
</tr>
<tr>
<td>
prepend-scheme
</td>
<td>
string
</td>
<td>
“https://”
</td>
<td>
Prepend this to URLs passed to Chawan without a scheme.<br> Note that
local files (<code>file:</code> scheme) will always be checked first;
only if this fails, Chawan will retry the request with
<code>prepend-scheme</code> set as the scheme.
</td>
</tr>
<tr>
<td>
prepend-https
</td>
<td>
boolean
</td>
<td>
true
</td>
<td>
Deprecated: use prepend-scheme instead.<br> When set to false, Chawan
will act as if prepend-scheme were set to ““.
</td>
</tr>
<tr>
<td>
proxy
</td>
<td>
URL
</td>
<td>
unset
</td>
<td>
Specify a proxy for all network requests Chawan makes. Currently, the
formats <code>http://user:pass@domain</code> and
<code>socks5://user:pass@domain</code> are accepted. (Unlike in curl,
<code>socks5h</code> is an alias of <code>socks5</code>, and DNS
requests are always tunneled.)<br> Can be overridden by siteconf.
</td>
</tr>
<tr>
<td>
default-headers
</td>
<td>
table
</td>
<td>
{omitted}
</td>
<td>
Specify a list of default headers for all HTTP(S) network requests. Can
be overridden by siteconf.
</td>
</tr>
<tr>
<td>
allow-http-from-file
</td>
<td>
boolean
</td>
<td>
false
</td>
<td>
<strong>WARNING: think twice before enabling this.</strong><br> Allows
HTTP and HTTPS requests from the <code>file:</code> and
<code>stream:</code> schemes. This is a very bad idea in general,
because it allows local files to ping remote servers (a functionality
commonly abused by HTML e-mails to track your mailbox activity.)<br> On
the other hand, it allows loading images in HTML e-mails if you don’t
care about the privacy implications.
</td>
</tr>
</tbody></table>
<h2 id="display">Display</h2>
<p>Display options are to be placed in the <code>[display]</code>
section.</p>
<p>Following is a list of display options:</p>
<table>
<tbody><tr>
<th>
Name
</th>
<th>
Value
</th>
<th>
Default
</th>
<th>
Function
</th>
</tr>
<tr>
<td>
color-mode
</td>
<td>
“monochrome” / “ansi” / “eight-bit” / “true-color” / “auto”
</td>
<td>
“auto”
</td>
<td>
Set the color mode. “auto” for automatic detection, “monochrome” for
black on white, “ansi” for ansi colors, “eight-bit” for 256-color mode,
and “true-color” for true colors.
</td>
</tr>
<tr>
<td>
format-mode
</td>
<td>
“auto” / [“bold”, “italic”, “underline”, “reverse”, “strike”,
“overline”, “blink”]
</td>
<td>
“auto”
</td>
<td>
Specifies output formatting modes. Accepts the string “auto” or an array
of specific attributes. An empty array (<code>[]</code>) disables
formatting completely.
</td>
</tr>
<tr>
<td>
no-format-mode
</td>
<td>
[“bold”, “italic”, “underline”, “reverse”, “strike”, “overline”,
“blink”]
</td>
<td>
“overline”
</td>
<td>
Disable specific formatting modes.
</td>
</tr>
<tr>
<td>
image-mode
</td>
<td>
“auto” / “none” / “sixel” / “kitty”
</td>
<td>
“auto”
</td>
<td>
Specifies the image output mode. “sixel” uses sixels for output, “kitty”
uses the Kitty image display protocol, “none” disables image display
completely.<br> “auto” tries to detect sixel or kitty support, and falls
back to “none” when neither are available. This is the default setting,
but you must also enable <code>buffer.images</code> for images to work.
</td>
</tr>
<tr>
<td>
sixel-colors
</td>
<td>
“auto” / 2..65535
</td>
<td>
“auto”
</td>
<td>
Only applies when <code>display.image-mode="sixel"</code>. Setting a
number overrides the number of sixel color registers reported by the
terminal.
</td>
</tr>
<tr>
<td>
alt-screen
</td>
<td>
“auto” / boolean
</td>
<td>
“auto”
</td>
<td>
Enable/disable the alternative screen.
</td>
</tr>
<tr>
<td>
highlight-color
</td>
<td>
color
</td>
<td>
“cyan”
</td>
<td>
Set the highlight color. Both hex values and CSS color names are
accepted.
</td>
</tr>
<tr>
<td>
highlight-marks
</td>
<td>
boolean
</td>
<td>
true
</td>
<td>
Enable/disable highlighting of marks.
</td>
</tr>
<tr>
<td>
double-width-ambiguous
</td>
<td>
boolean
</td>
<td>
false
</td>
<td>
Assume the terminal displays characters in the East Asian Ambiguous
category as double-width characters. Useful when e.g.&nbsp;○ occupies two
cells.
</td>
</tr>
<tr>
<td>
minimum-contrast
</td>
<td>
number
</td>
<td>
100
</td>
<td>
Specify the minimum difference between the luminance (Y) of the
background and the foreground. -1 disables this function (i.e.&nbsp;allows
black letters on black background, etc).
</td>
</tr>
<tr>
<td>
force-clear
</td>
<td>
boolean
</td>
<td>
false
</td>
<td>
Force the screen to be completely cleared every time it is redrawn.
</td>
</tr>
<tr>
<td>
set-title
</td>
<td>
boolean
</td>
<td>
true
</td>
<td>
Set the terminal emulator’s window title to that of the current page.
</td>
</tr>
<tr>
<td>
default-background-color
</td>
<td>
“auto” / color
</td>
<td>
“auto”
</td>
<td>
Overrides the assumed background color of the terminal. “auto” leaves
background color detection to Chawan.
</td>
</tr>
<tr>
<td>
default-foreground-color
</td>
<td>
“auto” / color
</td>
<td>
“auto”
</td>
<td>
Sets the assumed foreground color of the terminal. “auto” leaves
foreground color detection to Chawan.
</td>
</tr>
<tr>
<td>
query-da1
</td>
<td>
bool
</td>
<td>
true
</td>
<td>
Enable/disable querying Primary Device Attributes, and with it, all
“dynamic” terminal querying.<br> Do not alter this value unless Chawan
told you so; the output will look awful.
</td>
</tr>
<tr>
<td>
columns, lines, pixels-per-column, pixels-per-line
</td>
<td>
number
</td>
<td>
80, 24, 9, 18
</td>
<td>
Fallback values for the number of columns, lines, pixels per column, and
pixels per line for the cases where it cannot be determined
automatically. (For example, these values are used in dump mode.)
</td>
</tr>
<tr>
<td>
force-columns, force-lines, force-pixels-per-column,
force-pixels-per-line
</td>
<td>
boolean
</td>
<td>
false
</td>
<td>
Force-set columns, lines, pixels per column, or pixels per line to the
fallback values provided above.
</td>
</tr>
</tbody></table>
<h2 id="protocol">Protocol</h2>
<p>Protocol-related rules are to be placed in objects keyed as
<code>[protocol.{protocol-name}]</code>. e.g.&nbsp;FTP related rules are
placed in in <code>[protocol.ftp]</code>.</p>
<table>
<tbody><tr>
<th>
Name
</th>
<th>
Value
</th>
<th>
Default
</th>
<th>
Function
</th>
</tr>
<tr>
<td>
form-request
</td>
<td>
“http” / “ftp” / “data” / “mailto”
</td>
<td>
“http”
</td>
<td>
Specify which protocol to imitate when submitting forms to this
protocol.
</td>
</tr>
</tbody></table>
<h2 id="omnirule">Omnirule</h2>
<p>The omni-bar (by default opened with C-l) can be used to perform
searches using omni-rules. These are to be specified as sub-keys to
table <code>[omnirule]</code>. (The sub-key itself is ignored; you can
use anything as long it doesn’t conflict with other keys.)</p>
<p>Examples:</p>
<pre><code># Search using DuckDuckGo Lite.
# (This rule is included in the default config, although C-k now invokes
# Google search.)
[omnirule.ddg]
match = '^ddg:'
substitute-url = '(x) =&gt; "https://lite.duckduckgo.com/lite/?kp=-1&amp;kd=-1&amp;q=" + encodeURIComponent(x.split(":").slice(1).join(":"))'

# Search using Wikipedia, Firefox-style.
# The [[omnirule]] syntax introduces an anonymous omnirule; it is
# equivalent to the named one.
[[omnirule]]
match = '^@wikipedia'
substitute-url = '(x) =&gt; "https://en.wikipedia.org/wiki/Special:Search?search=" + encodeURIComponent(x.replace(/@wikipedia/, ""))'</code></pre>
<p>Omnirule options:</p>
<table>
<tbody><tr>
<th>
Name
</th>
<th>
Value
</th>
<th>
Function
</th>
</tr>
<tr>
<td>
match
</td>
<td>
regex
</td>
<td>
Regular expression used to match the input string. Note that websites
passed as arguments are matched as well.<br> Note: regexes are handled
according to the <a href="https://chawan.net/doc/cha/config.html#match-mode">match mode</a> regex handling
rules.
</td>
</tr>
<tr>
<td>
substitute-url
</td>
<td>
JavaScript function
</td>
<td>
A JavaScript function Chawan will pass the input string to. If a new
string is returned, it will be parsed instead of the old one.
</td>
</tr>
</tbody></table>
<h2 id="siteconf">Siteconf</h2>
<p>Configuration options can be specified for individual sites. Entries
are to be specified as sub-keys to table <code>[siteconf]</code>. (The
sub-key itself is ignored; you can use anything as long it doesn’t
conflict with other keys.)</p>
<p>Most siteconf options can also be specified globally; see the
“overrides” field.</p>
<p>Examples:</p>
<pre><code># Enable cookies on the orange website for log-in.
[siteconf.hn]
url = 'https://news\.ycombinator\.com/.*'
cookie = true

# Redirect npr.org to text.npr.org.
[siteconf.npr]
host = '(www\.)?npr\.org'
rewrite-url = '''
(x) =&gt; {
    x.host = "text.npr.org";
    const s = x.pathname.split('/');
    x.pathname = s.at(s.length &gt; 2 ? -2 : 1);
    /* No need to return; URL objects are passed by reference. */
}
'''

# Allow cookie sharing on *sr.ht domains.
[siteconf.sr-ht]
host = '(.*\.)?sr\.ht' # either 'something.sr.ht' or 'sr.ht'
cookie = true # enable cookies (read-only; use "save" to persist them)
share-cookie-jar = 'sr.ht' # use the cookie jar of 'sr.ht' for all matched hosts

# Use the "vector" skin on Wikipedia.
# The [[siteconf]] syntax introduces an anonymous siteconf; it is
# equivalent to the above ones.
[[siteconf]]
url = '^https?://[a-z]+\.wikipedia\.org/wiki/(?!.*useskin=.*)'
rewrite-url = 'x =&gt; x.searchParams.append("useskin", "vector")'

# Make imgur send us images.
[siteconf.imgur]
host = '(i\.)?imgur\.com'
default-headers = {
    User-Agent = "Mozilla/5.0 chawan",
    Accept = "*/*",
    Accept-Encoding = "gzip, deflate",
    Accept-Language = "en;q=1.0",
    Pragma = "no-cache",
    Cache-Control = "no-cache"
}</code></pre>
<p>Siteconf options:</p>
<table>
<tbody><tr>
<th>
Name
</th>
<th>
Value
</th>
<th>
Overrides
</th>
<th>
Function
</th>
</tr>
<tr>
<td>
url
</td>
<td>
regex
</td>
<td>
n/a
</td>
<td>
Regular expression used to match the URL. Either this or the
<code>host</code> option must be specified.<br> Note: regexes are
handled according to the <a href="https://chawan.net/doc/cha/config.html#match-mode">match mode</a> regex
handling rules.
</td>
</tr>
<tr>
<td>
host
</td>
<td>
regex
</td>
<td>
n/a
</td>
<td>
Regular expression used to match the host part of the URL (i.e.&nbsp;domain
name/ip address.) Either this or the <code>url</code> option must be
specified.<br> Note: regexes are handled according to the <a href="https://chawan.net/doc/cha/config.html#match-mode">match mode</a> regex handling rules.
</td>
</tr>
<tr>
<td>
rewrite-url
</td>
<td>
JavaScript function
</td>
<td>
n/a
</td>
<td>
A JavaScript function Chawan will pass the site’s URL object to. If a
new URL is returned, or the URL object is modified in any way, Chawan
will transparently redirect the user to this new URL.
</td>
</tr>
<tr>
<td>
cookie
</td>
<td>
boolean / “save”
</td>
<td>
<code>buffer.cookie</code>
</td>
<td>
Whether loading (with “save”, also saving) cookies should be allowed for
this URL.
</td>
</tr>
<tr>
<td>
share-cookie-jar
</td>
<td>
host
</td>
<td>
n/a
</td>
<td>
Cookie jar to use for this domain. Useful for e.g.&nbsp;sharing cookies with
subdomains.
</td>
</tr>
<tr>
<td>
referer-from
</td>
<td>
boolean
</td>
<td>
<code>buffer.referer-from</code>
</td>
<td>
Whether or not we should send a Referer header when opening requests
originating from this domain. Simplified example: if you click a link on
a.com that refers to b.com, and referer-from is true, b.com is sent
“a.com” as the Referer header.
</td>
</tr>
<tr>
<td>
scripting
</td>
<td>
boolean / “app”
</td>
<td>
<code>buffer.scripting</code>
</td>
<td>
Enable/disable JavaScript execution on this site. See
<code>buffer.scripting</code> for details.
</td>
</tr>
<tr>
<td>
styling
</td>
<td>
boolean
</td>
<td>
<code>buffer.styling</code>
</td>
<td>
Enable/disable author styles (CSS) on this site.
</td>
</tr>
<tr>
<td>
images
</td>
<td>
boolean
</td>
<td>
<code>buffer.images</code>
</td>
<td>
Enable/disable image display on this site.
</td>
</tr>
<tr>
<td>
document-charset
</td>
<td>
charset label string
</td>
<td>
<code>encoding.document-charset</code>
</td>
<td>
Specify the default encoding for this site.
</td>
</tr>
<tr>
<td>
stylesheet
</td>
<td>
CSS stylesheet
</td>
<td>
n/a
</td>
<td>
Specify an additional user-stylesheet for this site.<br> Other
user-stylesheets are concatenated with this to get the final user
stylesheet.<br> <strong>Note:</strong> this setting is deprecated.
Please use <code>user-style</code> instead.
</td>
</tr>
<tr>
<td>
proxy
</td>
<td>
URL
</td>
<td>
<code>network.proxy</code>
</td>
<td>
Specify a proxy for network requests fetching contents of this buffer.
</td>
</tr>
<tr>
<td>
default-headers
</td>
<td>
table
</td>
<td>
<code>network.default-headers</code>
</td>
<td>
Specify a list of default headers for HTTP(S) network requests to this
buffer.
</td>
</tr>
<tr>
<td>
insecure-ssl-no-verify
</td>
<td>
boolean
</td>
<td>
n/a
</td>
<td>
Defaults to false. When set to true, this disables peer and hostname
verification for SSL keys on this site, like
<code>curl --insecure</code> would.<br> Please do not use this unless
you are absolutely sure you know what you are doing.
</td>
</tr>
<tr>
<td>
autofocus
</td>
<td>
boolean
</td>
<td>
<code>buffer.autofocus</code>
</td>
<td>
When set to true, elements with an “autofocus” attribute are focused on
automatically after the buffer is loaded.<br> If scripting is enabled,
this also allows scripts to focus on elements.
</td>
</tr>
<tr>
<td>
meta-refresh
</td>
<td>
“never” / “always” / “ask”
</td>
<td>
<code>buffer.meta-refresh</code>
</td>
<td>
Whether or not <code>http-equiv=refresh</code> meta tags should be
respected. “never” completely disables them, “always” automatically
accepts all of them, “ask” brings up a pop-up menu.
</td>
</tr>
<tr>
<td>
history
</td>
<td>
boolean
</td>
<td>
<code>buffer.history</code>
</td>
<td>
Whether or not browsing history should be saved to the disk for this
URL.
</td>
</tr>
<tr>
<td>
mark-links
</td>
<td>
boolean
</td>
<td>
<code>buffer.history</code>
</td>
<td>
Add numeric markers before links.
</td>
</tr>
<tr>
<td>
user-style
</td>
<td>
string
</td>
<td>
<code>buffer.user-style</code>
</td>
<td>
Specify a user style sheet specific to the site.<br> Please refer to
<code>buffer.user-style</code> for details.
</td>
</tr>
</tbody></table>
<h2 id="stylesheets">Stylesheets</h2>
<p>The <code>[css]</code> section is deprecated, and will be removed in
the future. Please use <code>buffer.user-style</code> instead.</p>
<p>(<code>user-style</code> accepts inline styles by default, but can
also include external stylesheets using
<code>@import 'file.css';</code>.)</p>
<h2 id="keybindings">Keybindings</h2>
<p>Keybindings are to be placed in these sections:</p>
<ul>
<li>for pager interaction: <code>[page]</code></li>
<li>for line editing: <code>[line]</code></li>
</ul>
<p>Keybindings are configured using the syntax</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode toml"><code class="sourceCode toml"><span id="cb5-1"><a href="https://chawan.net/doc/cha/config.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="dt">'&lt;keybinding&gt;'</span> <span class="op">=</span> <span class="st">'</span><span class="vs">&lt;action&gt;</span><span class="st">'</span></span></code></pre></div>
<p>Where <code>&lt;keybinding&gt;</code> is a combination of unicode
characters with or without modifiers. Modifiers are the prefixes
<code>C-</code> and <code>M-</code>, which add control or escape to the
keybinding respectively (essentially making <code>M-</code> the same as
<code>C-[</code>). Modifiers can be escaped with the <code>\</code>
sign.</p>
<p><code>&lt;action&gt;</code> is either a command defined in the
<code>[cmd]</code> section, or a JavaScript expression. Here we only
describe the pre-defined actions in the default config; for a
description of the API, please see:</p>
<!-- MANOFF -->
<p><a href="https://chawan.net/doc/cha/api.html">the API documentation</a>. <!-- MANON -->
<!-- MANON
The API documentation at **cha-api**(5).
MANOFF --></p>
<p>Examples:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode toml"><code class="sourceCode toml"><span id="cb6-1"><a href="https://chawan.net/doc/cha/config.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># show change URL when Control, Escape and j are pressed</span></span>
<span id="cb6-2"><a href="https://chawan.net/doc/cha/config.html#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="dt">'C-M-j'</span> <span class="op">=</span> <span class="st">'</span><span class="vs">cmd.pager.load</span><span class="st">'</span></span>
<span id="cb6-3"><a href="https://chawan.net/doc/cha/config.html#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="https://chawan.net/doc/cha/config.html#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># go to the first line of the page when g is pressed twice without a preceding</span></span>
<span id="cb6-5"><a href="https://chawan.net/doc/cha/config.html#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co"># number, or to the line when a preceding number is given.</span></span>
<span id="cb6-6"><a href="https://chawan.net/doc/cha/config.html#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="dt">'gg'</span> <span class="op">=</span> <span class="st">'</span><span class="vs">cmd.buffer.gotoLineOrStart</span><span class="st">'</span></span>
<span id="cb6-7"><a href="https://chawan.net/doc/cha/config.html#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="https://chawan.net/doc/cha/config.html#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co"># JS functions and expressions are accepted too. Following replaces the</span></span>
<span id="cb6-9"><a href="https://chawan.net/doc/cha/config.html#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co"># default search engine with DuckDuckGo Lite.</span></span>
<span id="cb6-10"><a href="https://chawan.net/doc/cha/config.html#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="co"># (See api.md for a list of available functions, and a discussion on how</span></span>
<span id="cb6-11"><a href="https://chawan.net/doc/cha/config.html#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co"># to add your own "namespaced" commands like above.)</span></span>
<span id="cb6-12"><a href="https://chawan.net/doc/cha/config.html#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="dt">'C-k'</span> <span class="op">=</span> <span class="st">'</span><span class="vs">() =&gt; pager.load("ddg:")</span><span class="st">'</span></span></code></pre></div>
<h3 id="pager-actions">Pager actions</h3>
<table>
<tbody><tr>
<th>
Default key
</th>
<th>
Name
</th>
<th>
Function
</th>
</tr>
<tr>
<td>
<kbd>q</kbd>
</td>
<td>
<code>cmd.pager.quit</code>
</td>
<td>
Exit the browser.
</td>
</tr>
<tr>
<td>
<kbd>C-z</kbd>
</td>
<td>
<code>cmd.pager.suspend</code>
</td>
<td>
Temporarily suspend the browser<br> Note: this also suspends e.g.&nbsp;buffer
processes or CGI scripts. So if you are downloading something, that will
be delayed until you restart the process.
</td>
</tr>
<tr>
<td>
<kbd>C-l</kbd>
</td>
<td>
<code>cmd.pager.load</code>
</td>
<td>
Open the current address in the URL bar.
</td>
</tr>
<tr>
<td>
<kbd>C-k</kbd>
</td>
<td>
<code>cmd.pager.webSearch</code>
</td>
<td>
Open the URL bar with an arbitrary search engine. At the moment, this is
Google Search, but this may change in the future.
</td>
</tr>
<tr>
<td>
<kbd>M-u</kbd>
</td>
<td>
<code>cmd.pager.dupeBuffer</code>
</td>
<td>
Duplicate the current buffer by loading its source to a new buffer.
</td>
</tr>
<tr>
<td>
<kbd>U</kbd>
</td>
<td>
<code>cmd.pager.reloadBuffer</code>
</td>
<td>
Open a new buffer with the current buffer’s URL, replacing the current
buffer.
</td>
</tr>
<tr>
<td>
<kbd>C-g</kbd>
</td>
<td>
<code>cmd.pager.lineInfo</code>
</td>
<td>
Display information about the current line on the status line.
</td>
</tr>
<tr>
<td>
<kbd>\</kbd>
</td>
<td>
<code>cmd.pager.toggleSource</code>
</td>
<td>
If viewing an HTML buffer, open a new buffer with its source. Otherwise,
open the current buffer’s contents as HTML.
</td>
</tr>
<tr>
<td>
<kbd>D</kbd>
</td>
<td>
<code>cmd.pager.discardBuffer</code>
</td>
<td>
Discard the current buffer, and move back to the previous/next buffer
depending on what the previously viewed buffer was.
</td>
</tr>
<tr>
<td>
<kbd>d,</kbd>, <kbd>d.</kbd>
</td>
<td>
<code>cmd.pager.discardBufferPrev</code>,
<code>cmd.pager.discardBufferNext</code>
</td>
<td>
Discard the current buffer, and move back to the previous/next buffer,
or open the link under the cursor.
</td>
</tr>
<tr>
<td>
<kbd>M-d</kbd>
</td>
<td>
<code>cmd.pager.discardTree</code>
</td>
<td>
Discard all child buffers of the current buffer.
</td>
</tr>
<tr>
<td>
<kbd>.</kbd>, <kbd>,</kbd>, <kbd>M-,</kbd>, <kbd>M-.</kbd>,
<kbd>M-/</kbd>
</td>
<td>
<code>cmd.pager.nextBuffer</code>, <code>cmd.pager.prevBuffer</code>,
<code>cmd.pager.prevSiblingBuffer</code>,
<code>cmd.pager.nextSiblingBufer</code>,
<code>cmd.pager.parentBuffer</code>
</td>
<td>
Traverse the buffer tree.<br> <code>nextBuffer</code> and
<code>prevBuffer</code> are the most intuitive, traversing the tree as
if it were a linked list.<br> <code>prevSiblingBuffer</code> and
<code>nextSiblingBuffer</code> cycle through the buffers opened from the
same buffer.<br> Finally, <code>parentBuffer</code> always returns to
the buffer the current buffer was opened from, even if e.g.&nbsp;the user
returns and opens another page “in between”.
</td>
</tr>
<tr>
<td>
<kbd>M-c</kbd>
</td>
<td>
<code>cmd.pager.enterCommand</code>
</td>
<td>
Directly enter a JavaScript command. Note that this interacts with the
pager, not the website being displayed.
</td>
</tr>
<tr>
<td>
None
</td>
<td>
<code>cmd.pager.searchForward</code>,
<code>cmd.pager.searchBackward</code>
</td>
<td>
Search for a string in the current buffer, forwards or backwards.
</td>
</tr>
<tr>
<td>
<kbd>/</kbd>, <kbd>?</kbd>
</td>
<td>
<code>cmd.pager.isearchForward</code>,
<code>cmd.pager.searchBackward</code>
</td>
<td>
Incremental-search for a string, highlighting the first result, forwards
or backwards.
</td>
</tr>
<tr>
<td>
<kbd>n</kbd>, <kbd>N</kbd>
</td>
<td>
<code>cmd.pager.searchNext</code>, <code>cmd.pager.searchPrev</code>
</td>
<td>
Jump to the nth (or if unspecified, first) next/previous search result.
</td>
</tr>
<tr>
<td>
<kbd>c</kbd>
</td>
<td>
<code>cmd.pager.peek</code>
</td>
<td>
Display a message of the current buffer’s URL on the status line.
</td>
</tr>
<tr>
<td>
<kbd>u</kbd>
</td>
<td>
<code>cmd.pager.peekCursor</code>
</td>
<td>
Display a message of the URL or title under the cursor on the status
line. Multiple calls allow cycling through the two. (i.e.&nbsp;by default,
press u once -&gt; title, press again -&gt; URL)
</td>
</tr>
<tr>
<td>
<kbd>su</kbd>
</td>
<td>
<code>cmd.pager.showFullAlert</code>
</td>
<td>
Show the last alert inside the line editor. You can also view previous
ones using C-p or C-n.
</td>
</tr>
<tr>
<td>
<kbd>M-y</kbd>
</td>
<td>
<code>cmd.pager.copyURL</code>
</td>
<td>
Copy the current buffer’s URL to the system clipboard.
</td>
</tr>
<tr>
<td>
<kbd>yu</kbd>
</td>
<td>
<code>cmd.pager.copyCursorLink</code>
</td>
<td>
Copy the link under the cursor to the system clipboard.
</td>
</tr>
<tr>
<td>
<kbd>yI</kbd>
</td>
<td>
<code>cmd.pager.copyCursorImage</code>
</td>
<td>
Copy the URL of the image under the cursor to the system clipboard.
</td>
</tr>
<tr>
<td>
<kbd>M-p</kbd>
</td>
<td>
<code>cmd.pager.gotoClipboardURL</code>
</td>
<td>
Go to the URL currently on the clipboard.
</td>
</tr>
<tr>
<td>
<kbd>M-b</kbd>
</td>
<td>
<code>cmd.pager.openBookmarks</code>
</td>
<td>
Open the bookmark file.
</td>
</tr>
<tr>
<td>
<kbd>M-a</kbd>
</td>
<td>
<code>cmd.pager.addBookmark</code>
</td>
<td>
Add the current page to your bookmarks.
</td>
</tr>
</tbody></table>
<h3 id="buffer-actions">Buffer actions</h3>
<p>Note: <code>n</code> in the following text refers to a number
preceding the action. e.g. in <code>10gg</code>, n = 10. If no preceding
number is input, then it is left unspecified.</p>
<table>
<tbody><tr>
<th>
Default key
</th>
<th>
Name
</th>
<th>
Function
</th>
</tr>
<tr>
<td>
<kbd>j</kbd>, <kbd>k</kbd>
</td>
<td>
<code>cmd.buffer.cursorUp</code>, <code>cmd.buffer.cursorDown</code>
</td>
<td>
Move the cursor upwards/downwards by n lines, or if n is unspecified, by
1.
</td>
</tr>
<tr>
<td>
<kbd>h</kbd>, <kbd>l</kbd>
</td>
<td>
<code>cmd.buffer.cursorLeft</code>, <code>cmd.buffer.cursorRight</code>
</td>
<td>
Move the cursor to the left/right by n cells, or if n is unspecified, by
1.
</td>
</tr>
<tr>
<td>
<kbd>0</kbd>/<kbd>Home</kbd>
</td>
<td>
<code>cmd.buffer.cursorLineBegin</code>
</td>
<td>
Move the cursor to the first cell of the line.
</td>
</tr>
<tr>
<td>
<kbd>^</kbd>
</td>
<td>
<code>cmd.buffer.cursorLineTextStart</code>
</td>
<td>
Move the cursor to the first non-blank character of the line.
</td>
</tr>
<tr>
<td>
<kbd>$</kbd>/<kbd>End</kbd>
</td>
<td>
<code>cmd.buffer.cursorLineEnd</code>
</td>
<td>
Move the cursor to the last cell of the line.
</td>
</tr>
<tr>
<td>
<kbd>w</kbd>, <kbd>W</kbd>
</td>
<td>
<code>cmd.buffer.cursorNextWord</code>,
<code>cmd.buffer.cursorNextViWord</code>,
<code>cmd.buffer.cursorNextBigWord</code>
</td>
<td>
Move the cursor to the beginning of the next <a href="https://chawan.net/doc/cha/config.html#word-types">word</a>.
</td>
</tr>
<tr>
<td>
None
</td>
<td>
<code>cmd.buffer.cursorPrevWord</code>,
<code>cmd.buffer.cursorPrevViWord</code>,
<code>cmd.buffer.cursorPrevBigWord</code>
</td>
<td>
Move the cursor to the end of the previous <a href="https://chawan.net/doc/cha/config.html#word-types">word</a>.
</td>
</tr>
<tr>
<td>
<kbd>e</kbd>, <kbd>E</kbd>
</td>
<td>
<code>cmd.buffer.cursorWordEnd</code>,
<code>cmd.buffer.cursorViWordEnd</code>,
<code>cmd.buffer.cursorBigWordEnd</code>
</td>
<td>
Move the cursor to the end of the current <a href="https://chawan.net/doc/cha/config.html#word-types">word</a>, or if already there, to the end of the next
word.
</td>
</tr>
<tr>
<td>
<kbd>b</kbd>, <kbd>B</kbd>
</td>
<td>
<code>cmd.buffer.cursorWordBegin</code>,
<code>cmd.buffer.cursorViWordBegin</code>,
<code>cmd.buffer.cursorBigWordBegin</code>
</td>
<td>
Move the cursor to the beginning of the current <a href="https://chawan.net/doc/cha/config.html#word-types">word</a>, or if already there, to the end of the
previous word.
</td>
</tr>
<tr>
<td>
<kbd>[</kbd>, <kbd>]</kbd>
</td>
<td>
<code>cmd.buffer.cursorPrevLink</code>,
<code>cmd.buffer.cursorNextLink</code>
</td>
<td>
Move the cursor to the end/beginning of the previous/next clickable
element (e.g.&nbsp;link, input field, etc).
</td>
</tr>
<tr>
<td>
<kbd>{</kbd>, <kbd>}</kbd>
</td>
<td>
<code>cmd.buffer.cursorPrevParagraph</code>,
<code>cmd.buffer.cursorNextParagraph</code>
</td>
<td>
Move the cursor to the end/beginning of the nth previous/next paragraph.
</td>
</tr>
<tr>
<td>
None
</td>
<td>
<code>cmd.buffer.cursorRevNthLink</code>
</td>
<td>
Move the cursor to the nth link of the document, counting backwards from
the document’s last line.
</td>
</tr>
<tr>
<td>
None
</td>
<td>
<code>cmd.buffer.cursorNthLink</code>
</td>
<td>
Move the cursor to the nth link of the document.
</td>
</tr>
<tr>
<td>
<kbd>C-b</kbd>, <kbd>C-f</kbd>, <kbd>zH</kbd>, <kbd>zL</kbd>
</td>
<td>
<code>cmd.buffer.pageUp</code>, <code>cmd.buffer.pageDown</code>,
<code>cmd.buffer.pageLeft</code>, <code>cmd.buffer.pageRight</code>
</td>
<td>
Scroll up/down/left/right by n pages, or if n is unspecified, by one
page.
</td>
</tr>
<tr>
<td>
<kbd>C-u</kbd>, <kbd>C-d</kbd>
</td>
<td>
<code>cmd.buffer.halfPageUp</code>,
<code>cmd.buffer.halfPageDown</code>,
<code>cmd.buffer.halfPageLeft</code>, <code>cmd.buffer.halfPageUp</code>
</td>
<td>
Scroll up/down/left/right by n half pages, or if n is unspecified, by
one page.
</td>
</tr>
<tr>
<td>
<kbd>K</kbd>/<kbd>C-y</kbd>, <kbd>J</kbd>/<kbd>C-e</kbd>, <kbd>zh</kbd>,
<kbd>zl</kbd>
</td>
<td>
<code>cmd.buffer.scrollUp</code>, <code>cmd.buffer.scrollDown</code>,
<code>cmd.buffer.scrollLeft</code>, <code>cmd.buffer.scrollRight</code>
</td>
<td>
Scroll up/down/left/right by n lines, or if n is unspecified, by one
line.
</td>
</tr>
<tr>
<td>
<kbd>Enter</kbd>/<kbd>Return</kbd>
</td>
<td>
<code>cmd.buffer.click</code>
</td>
<td>
Click the HTML element currently under the cursor.
</td>
</tr>
<tr>
<td>
<kbd>I</kbd>
</td>
<td>
<code>cmd.buffer.viewImage</code>
</td>
<td>
View the image currently under the cursor in an external viewer.
</td>
</tr>
<tr>
<td>
<kbd>R</kbd>
</td>
<td>
<code>cmd.buffer.reshape</code>
</td>
<td>
Reshape the current buffer (=render the current page anew.) Useful if
the layout is not updating even though it should have.
</td>
</tr>
<tr>
<td>
<kbd>r</kbd>
</td>
<td>
<code>cmd.buffer.redraw</code>
</td>
<td>
Redraw screen contents. Useful if something messed up the display.
</td>
</tr>
<tr>
<td>
None (see gotoLineOrStart/End instead)
</td>
<td>
<code>cmd.buffer.cursorFirstLine</code>,
<code>cmd.buffer.cursorLastLine</code>
</td>
<td>
Move to the beginning/end in the buffer.
</td>
</tr>
<tr>
<td>
<kbd>H</kbd>
</td>
<td>
<code>cmd.buffer.cursorTop</code>
</td>
<td>
Move to the first line on the screen. (Equivalent to H in vi.)
</td>
</tr>
<tr>
<td>
<kbd>M</kbd>
</td>
<td>
<code>cmd.buffer.cursorMiddle</code>
</td>
<td>
Move to the line in the middle of the screen. (Equivalent to M in vi.)
</td>
</tr>
<tr>
<td>
<kbd>L</kbd>
</td>
<td>
<code>cmd.buffer.cursorBottom</code>
</td>
<td>
Move to the last line on the screen. (Equivalent to L in vi.)
</td>
</tr>
<tr>
<td>
<kbd>zt</kbd>, <kbd>z Return</kbd>, <kbd>zz</kbd>, <kbd>z.</kbd>,
<kbd>zb</kbd>, <kbd>z-</kbd>
</td>
<td>
<code>cmd.buffer.raisePage</code>,
<code>cmd.buffer.raisePageBegin</code>,
<code>cmd.buffer.centerLine</code>,
<code>cmd.buffer.centerLineBegin</code>,
<code>cmd.buffer.lowerPage</code>,
<code>cmd.buffer.lowerPageBegin</code>
</td>
<td>
<p>If n is specified, move cursor to line n.&nbsp;Then,</p>
<ul>
<li><code>raisePage</code> scrolls down so that the cursor is on the top
line of the screen. (vi <code>z&lt;CR&gt;</code>, vim
<code>zt</code>.)</li>
<li><code>centerLine</code> shifts the screen so that the cursor is in
the middle of the screen. (vi <code>z.</code>, vim
<code>zz</code>.)</li>
<li><code>lowerPage</code> scrolls up so that the cursor is on the
bottom line of the screen. (vi <code>z-</code>, vim
<code>zb</code>.)</li>
</ul>
The -<code>Begin</code> variants also move the cursor to the line’s
first non-blank character, as the variants originating from vi do.
</td>
</tr>
<tr>
<td>
<kbd>z+</kbd>
</td>
<td>
<code>cmd.buffer.nextPageBegin</code>
</td>
<td>
If n is specified, move to the screen before the nth line and raise the
page. Otherwise, go to the previous screen’s last line and raise the
page.
</td>
</tr>
<tr>
<td>
<kbd>z^</kbd>
</td>
<td>
<code>cmd.buffer.previousPageBegin</code>
</td>
<td>
If n is specified, move to the screen before the nth line and raise the
page. Otherwise, go to the previous screen’s last line and raise the
page.
</td>
</tr>
<tr>
<td>
<kbd>g0</kbd>, <kbd>gc</kbd>, <kbd>g$</kbd>
</td>
<td>
<code>cmd.buffer.cursorLeftEdge</code>,
<code>cmd.buffer.cursorMiddleColumn</code>,
<code>cmd.buffer.cursorRightEdge</code>
</td>
<td>
Move to the first/middle/last column on the screen.
</td>
</tr>
<tr>
<td>
None
</td>
<td>
<code>cmd.buffer.centerColumn</code>
</td>
<td>
Center screen around the current column. (w3m <code>Z</code>.)
</td>
</tr>
<tr>
<td>
<kbd>gg</kbd>, <kbd>G</kbd>
</td>
<td>
<code>cmd.buffer.gotoLineOrStart</code>,
<code>cmd.buffer.gotoLineOrEnd</code>
</td>
<td>
If n is specified, jump to line n.&nbsp;Otherwise, jump to the start/end of
the page.
</td>
</tr>
<tr>
<td>
<kbd>|</kbd>, None
</td>
<td>
<code>cmd.buffer.gotoColumnOrBegin</code>,
<code>cmd.buffer.gotoColumnOrEnd</code>
</td>
<td>
If n is specified, jump to column n of the current line. Otherwise, jump
to the first/last column.
</td>
</tr>
<tr>
<td>
<kbd>m</kbd>
</td>
<td>
<code>cmd.buffer.mark</code>
</td>
<td>
Wait for a character <code>x</code> and then set a mark with the ID
<code>x</code>.
</td>
</tr>
<tr>
<td>
<kbd>`</kbd>, <kbd>’</kbd>
</td>
<td>
<code>cmd.buffer.gotoMark</code>, <code>cmd.buffer.gotoMarkY</code>
</td>
<td>
Wait for a character <code>x</code> and then jump to the mark with the
ID <code>x</code> (if it exists on the page).<br> <code>gotoMark</code>
sets both the X and Y positions; gotoMarkY only sets the Y position.
</td>
</tr>
<tr>
<td>
<kbd>:</kbd>
</td>
<td>
<code>cmd.buffer.markURL</code>
</td>
<td>
Convert URL-like strings to anchors on the current page.
</td>
</tr>
<tr>
<td>
<kbd>s Return</kbd>
</td>
<td>
<code>cmd.buffer.saveLink</code>
</td>
<td>
Save resource from the URL pointed to by the cursor to the disk.
</td>
</tr>
<tr>
<td>
<kbd>sS</kbd>
</td>
<td>
<code>cmd.buffer.saveSource</code>
</td>
<td>
Save the source of the current buffer to the disk.
</td>
</tr>
<tr>
<td>
<kbd>sI</kbd>
</td>
<td>
<code>cmd.buffer.saveImage</code>
</td>
<td>
Save the image currently under the cursor.
</td>
</tr>
<tr>
<td>
<kbd>M-i</kbd>
</td>
<td>
<code>cmd.buffer.toggleImages</code>
</td>
<td>
Toggle display of images in the current buffer.
</td>
</tr>
<tr>
<td>
<kbd>M-j</kbd>
</td>
<td>
<code>cmd.buffer.toggleScripting</code>
</td>
<td>
Reload the current buffer with scripting enabled/disabled.
</td>
</tr>
<tr>
<td>
<kbd>M-k</kbd>
</td>
<td>
<code>cmd.buffer.toggleCookie</code>
</td>
<td>
Reload the current buffer with cookies enabled/disabled.
</td>
</tr>
</tbody></table>
<h3 id="line-editing-actions">Line-editing actions</h3>
<table>
<tbody><tr>
<th>
Default key
</th>
<th>
Name
</th>
<th>
Function
</th>
</tr>
<tr>
<td>
<kbd>Return</kbd>
</td>
<td>
<code>cmd.line.submit</code>
</td>
<td>
Submit the line.
</td>
</tr>
<tr>
<td>
<kbd>C-c</kbd>
</td>
<td>
<code>cmd.line.cancel</code>
</td>
<td>
Cancel the current operation.
</td>
</tr>
<tr>
<td>
<kbd>C-h</kbd>, <kbd>C-d</kbd>
</td>
<td>
<code>cmd.line.backspace</code>, <code>cmd.line.delete</code>
</td>
<td>
Delete character before (backspace)/after (delete) the cursor.
</td>
</tr>
<tr>
<td>
<kbd>C-u</kbd>, <kbd>C-k</kbd>
</td>
<td>
<code>cmd.line.clear</code>, <code>cmd.line.kill</code>
</td>
<td>
Delete text before (clear)/after (kill) the cursor.
</td>
</tr>
<tr>
<td>
<kbd>C-w</kbd>, <kbd>M-d</kbd>
</td>
<td>
<code>cmd.line.clearWord</code>, <code>cmd.line.killWord</code>
</td>
<td>
Delete word before (clear)/after (kill) the cursor.
</td>
</tr>
<tr>
<td>
<kbd>C-b</kbd>, <kbd>C-f</kbd>
</td>
<td>
<code>cmd.line.backward</code>, <code>cmd.line.forward</code>
</td>
<td>
Move cursor backward/forward by one character.
</td>
</tr>
<tr>
<td>
<kbd>M-b</kbd>, <kbd>M-f</kbd>
</td>
<td>
<code>cmd.line.prevWord</code>, <code>cmd.line.nextWord</code>
</td>
<td>
Move cursor to the previous/next word by one character
</td>
</tr>
<tr>
<td>
<kbd>C-a</kbd>/<kbd>Home</kbd>, <kbd>C-e</kbd>/<kbd>End</kbd>
</td>
<td>
<code>cmd.line.begin</code>, <code>cmd.line.end</code>
</td>
<td>
Move cursor to the beginning/end of the line.
</td>
</tr>
<tr>
<td>
<kbd>C-v</kbd>
</td>
<td>
<code>cmd.line.escape</code>
</td>
<td>
Ignore keybindings for next character.
</td>
</tr>
<tr>
<td>
<kbd>C-p</kbd>, <kbd>C-n</kbd>
</td>
<td>
<code>cmd.line.prevHist</code>, <code>cmd.line.nextHist</code>
</td>
<td>
Jump to the previous/next history entry
</td>
</tr>
</tbody></table>
<p>Note: to facilitate URL editing, the line editor has a different
definition of what a word is than the pager. For the line editor, a word
is either a sequence of alphanumeric characters, or any single
non-alphanumeric character. (This means that e.g.&nbsp;<code>https://</code>
consists of four words: <code>https</code>, <code>:</code>,
<code>/</code> and <code>/</code>.)</p>
<pre class="examples:"><code># Control+A moves the cursor to the beginning of the line.
'C-a' = 'cmd.line.begin'

# Escape+D deletes everything after the cursor until it reaches a word-breaking
# character.
'M-d' = 'cmd.line.killWord'</code></pre>
<h2 id="appendix">Appendix</h2>
<h3 id="regex-handling">Regex handling</h3>
<p>Regular expressions are currently handled using the libregexp library
from QuickJS. This means that all regular expressions work as in
JavaScript.</p>
<p>There are two different modes of regex preprocessing in Chawan:
“search” mode and “match” mode. Match mode is used for configurations
(meaning in all values in this document described as “regex”). Search
mode is used for the on-page search function (using
searchForward/isearchForward etc.)</p>
<h4 id="match-mode">Match mode</h4>
<p>Regular expressions are assumed to be exact matches, except when they
start with a caret (^) sign or end with an unescaped dollar ($)
sign.</p>
<p>In other words, the following transformations occur:</p>
<pre><code>^abcd -&gt; ^abcd (no change, only beginning is matched)
efgh$ -&gt; efgh$ (no change, only end is matched)
^ijkl$ -&gt; ^ijkl$ (no change, the entire line is matched)
mnop -&gt; ^mnop$ (changed to exact match, the entire line is matched)</code></pre>
<p>Match mode has no way to toggle JavaScript regex flags like
<code>i</code>.</p>
<h4 id="search-mode">Search mode</h4>
<p>For on-page search, the above transformations do not apply; the
search <code>/abcd</code> searches for the string <code>abcd</code>
inside all lines.</p>
<p>Search mode also has some other convenience transformations (these do
not work in match mode):</p>
<ul>
<li>The string <code>\c</code> (backslash + lower-case c) inside a
search-mode regex enables case-insensitive matching.</li>
<li>Conversely, <code>\C</code> (backslash + capital C) disables
case-insensitive matching. (Useful if you have <code>ignore-case</code>
set to true, which is the default.)</li>
<li><code>\&lt;</code> and <code>\&gt;</code> is converted to
<code>\b</code> (as in vi, grep, etc.)</li>
</ul>
<p>Like match mode, search mode operates on individual lines. This means
that search patterns do not match text wrapped over multiple lines.</p>
<h3 id="path-handling">Path handling</h3>
<p>Rules for path handling are similar to how the shell handles
strings.</p>
<ul>
<li>Tilde-expansion is used to determine the user’s home directory. So
e.g.&nbsp;<code>~/whatever</code> works.</li>
<li>Environment variables can be used like <code>$ENV_VAR</code>.</li>
<li>Relative paths are relative to the Chawan configuration directory
(i.e.&nbsp;<code>$CHA_DIR</code>).</li>
</ul>
<p>Some environment variables are also exported by Chawan:</p>
<ul>
<li><code>$CHA_BIN_DIR</code>: the directory which the <code>cha</code>
binary resides in. Symbolic links are automatically resolved to
determine this path.</li>
<li><code>$CHA_LIBEXEC_DIR</code>: the directory for all executables
Chawan uses for operation. By default, this is
<code>$CHA_BIN_DIR/../libexec/chawan</code>.</li>
<li><code>$CHA_DIR</code>: the configuration directory. (This can also
be set by the user; see the top section for details.
<code>$CHA_CONFIG_DIR</code> is a deprecated alias for this.)</li>
</ul>
<h3 id="word-types">Word types</h3>
<p>Word-based pager commands can operate with different definitions of
words. Currently, these are:</p>
<ul>
<li>w3m words</li>
<li>vi words</li>
<li>Big words</li>
</ul>
<h4 id="w3m-word">w3m word</h4>
<p>A w3m word is a sequence of alphanumeric characters. Symbols are
treated in the same way as whitespace.</p>
<h4 id="vi-word">vi word</h4>
<p>A vi word is a sequence of characters in the same character category.
Currently, character categories are alphanumeric characters, symbols,
han letters, hiragana, katakana, and hangul.</p>
<p>vi words may be separated by whitespace; however, vi words from
separate categories do not have to be whitespace-separated. e.g.&nbsp;the
following character sequence contains two words:</p>
<pre><code>hello[]+{}@`!</code></pre>
<h4 id="big-word">Big word</h4>
<p>A big word is a sequence of non-whitespace characters.</p>
<p>It is essentially the same as a w3m word, but with symbols being
defined as non-whitespace.</p>
<!-- MANON

## See also

**cha**(1) **cha-api**(7)
MANOFF -->
</main>
</body></html>